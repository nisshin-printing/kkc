<html>
<head><title>設置方法</title>
<style type="text/css">
<!--
body,tr,td {font-size:9pt;font-family: "MS UI Gothic"}
table      {font-size:9pt;}
b          {font-size:10pt}
small      {font-size:10pt;line-height:18pt}
div        {line-height:14pt}
h4         {font-size:12pt}
/* a          {font-size:9pt;text-decoration:none;} */
/* a:hover    {color:#5850b0;text-decoration:underline;} */
.st1       {font-size:9pt;font-family:"MS UI Gothic";color:#606060;background-color:#ffffff;} /* 項目1 */
.st2       {color:#008000;background-color:#e0eee0;border:1 dotted #e0eee0;} /* 項目2 */
-->
</style>
</head>
<body bgcolor="#ffffff" text="#808080"link="#808080" vlink="#808080">
<blockquote>
<br>
<br>
<!-- 設置方法 -->
<table border=0 cellpadding=5 cellspacing=0 width=550>
<tr>
<td bgcolor='#fff0f5' align=center width=550>
<font color=#db7093>設置方法</font>
</tr>
</table>
<br>
<!-- はじめに -->
<table border=0 cellpadding=5 cellspacing=0 width=550>
<tr>
<td bgcolor='#e5e5f7' align=center width=100>
<font color=#5850b0>はじめに</font>
<td width=450> 
</td>
</tr>
<tr>
<td bgcolor='#e5e5f7' colspan=2 height=2 width=450> </td>
</tr>
</table>
<br><div>
このスクリプトはフリーソフトです。このスクリプトを使用したいかなる損害に対して作者は一切の責任を負いません。<br>
また、本CGIはフリーソフトですが、著作権は放棄してはいません。<br>
フッターの著作権表示はいかなる事があっても削除してはいけません。<br>
設置に関する質問は当ホームページの掲示板にてお願いいたします。<br>
直接メールによる質問は一切お受けいたしておりません。<br>
設定項目を少なくしたため、カスタマイズが少々辛いです。<br>
お気に召しましたら、お使いください。<br>
要望などありましたら、当ホームページの掲示板にてお願いいたします。<br>
また、使用される前に当サイトの利用規定を必ず一度お読みください。<br>
<br>
</div>
<!-- 色彩館 -->
<table border=0 cellpadding=5 cellspacing=0 width=550>
<tr>
<td bgcolor='#e5e5f7' align=center width=100>
<font color=#5850b0>色彩館</font>
<td width=450> 
</td>
</tr>
<tr>
<td bgcolor='#e5e5f7' colspan=2 height=2 width=450> </td>
</tr>
</table>
<br><div>

ネットでは色んな掲示板が紹介されユーザーは好みに応じて、それらから選択しています。しかし、既存のCGIをそのままだと芸がないって思うユーザーもいるわけでそういう人は、自分で掲示板の色を変えてやるって思うこともあります。しかし、それが意外と難しい。いろいろ試したあげく出来上がった掲示板を見てみるとやっぱり元のほうが良かったと思ってもとのスタイルに戻してしまうといった経験はしたことありませんか？<br>
TOSHISRUSでは、その点もスクリプトに工夫をしています。ページ下にあるTOSHISRUSのHPにある色彩館を訪れてみてください。きっと貴方のページにあう色彩コーディネートが行える事でしょう。<br>
<br>
<font color=#db7093>『色彩コントローラ』について</font><br>
これを使えばきっと貴方のページにあった色彩コーディネートを行えるはずです。色彩館で紹介しているサンプルは全て色彩コントローラを用いて作成しました。作成したコーディネートはスクリプト内の所定の場所にコピー＆ペーストするだけですので簡単に変更する事ができます。<br>
季節に応じて、配色を変えると言うのも素敵ですね♪<br>
<br>
<font color=#db7093>『サンプル』について</font><br>
この掲示板を見ると如何にも『女性的』といった感じがするのですが、実はそんなことはないのです。それは、全て配色が作り出したものだからです。つまり配色一つでこのスクリプトはこのように明るいページにもなるし、サンプルを見れば分かりますがダークな感じのページにもなります。<br>
お好みでいろいろ試してみてください。楽しいですよぉ♪<br>
<br>
<font color=#db7093>『色彩データの埋め込み』について</font><br>
# -- 色彩のコーディネート (ここから) ------------------<br>
 　  ・<br>
 　  ・<br>
 　  ・<br>
# -- 色彩のコーディネート (ここまで) ------------------<br>
<br>
スクリプトには必ず上記のような設定個所が含まれています。そこに色彩館で作成したアレンジデータまたはサンプルデータを埋め込んでください。簡単でしょ♪<br><br>
</div>
<!-- ロゴの埋め込み -->
<table border=0 cellpadding=5 cellspacing=0 width=550>
<tr>
<td bgcolor='#e5e5f7' align=center width=100>
<font color=#5850b0>ロゴの埋め込み</font>
<td width=450> 
</td>
</tr>
<tr>
<td bgcolor='#e5e5f7' colspan=2 height=2 width=450> </td>
</tr>
</table>
<br><div>
TBOARDには全てのスクリプトに共通して、基本設定の部分に以下のような記述の個所があります。<br>
これは、USERが必要に応じて自分のスクリプトの先頭にinfomationを入力するためのものです。またここではHTMLタグも使用できます。<br>
<br>
# HPの上部にロゴ等を埋め込めます(必要に応じてお使いください)<br>
$head_title = &lt&ltHTML_END;<br>
HTML_END<br>
<br>
(例) 下の例はタイトルに自分のページのロゴを埋め込んで、コメントを入力した例を示しています。<br><br>
$head_title = &lt&ltHTML_END;<br>
<font color=#008000>
&ltimg src="../img/rogo.gif"&gt<br>
&ltdiv&gt<br>
いらっしゃいませ。&ltbr&gt<br>
ご自由に書き込んでください。返事は必ずかきますね♪&ltbr&gt<br>
レスは、テーブルが違った色で\表\示\されるよ。&ltbr&gt<br>
&lt/div&gt<br>
</font>
HTML_END<br><br>
<font color=#5850b0>注意</font><br>
上の例では、&ltdiv&gtが使われていますが、これを使用すると行と行の間を少し開けて見やすくするように工夫されています。しかし、絶対にイメージを&ltdiv&gtから&lt/div&gtの間に埋め込まないで下さい。配置がめちゃめちゃになります。更に、CGIでは全角文字の場合に文字化けが生じるときがあります。もし文字化けが起きたときには上の例の『表示』の部分のように『\表\示\』と、『\』を間に入れてみてください。これで文字化けはなくなります。<br>
<br>
</div>

<!-- セキュリティ -->
<table border=0 cellpadding=5 cellspacing=0 width=550>
<tr>
<td bgcolor='#e5e5f7' align=center width=100>
<font color=#5850b0>セキュリティ</font>
<td width=450> 
</td>
</tr>
<tr>
<td bgcolor='#e5e5f7' colspan=2 height=2 width=450> </td>
</tr>
</table>
<br><div>
当サイトが配布する全てのスクリプトは、ログファイル保存時にパスワードを暗号化しません。つまり、入力されたパスワードはそのままログに保存されます。そのような場合、ログを直接リンクされ中身が閲覧された場合に簡単にパスワードを引き抜く事ができます。これを回避するために、ログの保存の際に暗号化する方法があるのですが、私が未熟であるためそのアルゴリズムを理解できていません。そこで、簡単にできるログファイルのセキュリティ向上対策をお教えいたします。簡単にできますので必ず行うようにしてください。<br>
<h4><font color=#008800>方法は、ログファイル及びログのディレクトリ（過去ログディレクトリも含む）を別名にする事です。</font></h4>
<b>対象がファイルの場合</b><br>
# ログファイル名<br>
$logfile = "tboard.log";<br>
 　 ↓<br>
# ログファイル名<br>
$logfile = "<font color=#008800>fakeizl.log</font>";<br>
として、既存のログファイルtboard.logを、例えばfakeizl.logに変更します。<br>
<br>
<b>対象が過去ログディレクトリの場合</b><br>
# 過去ログディレクトリ<br>
$oldbox = "oldlog/";<br>
 　 ↓<br>
# 過去ログディレクトリ<br>
$oldbox = "<font color=#008800>leisken</font>/";<br>
として、既存の過去ログディレクトリoldlogを、例えばleiskenに変更します。<br>
<br>
これだけで、ログを引き抜かれる危険性はかなり低くなくなります。ぜひ行ってください。<br>
<br>
</div>

<!-- 解説 -->
<table border=0 cellpadding=5 cellspacing=3 width=200>
<tr>
<td bgcolor='#fff0f5' align=center width=200>
<font color=#db7093>TBOARD 003</font>
</tr>
</table>
<div>
<br>
<pre>
# [ 設置例 ]
#
#  public_html / index.html (ホームページなど)
#     |
#     +-- tboard [777]           /  tboard003.cgi   [755]
#          |                        converter.cgi   [755]
#          |                        jcode.pl        [644]
#          |                        tboard003.log   [666]
#          |                        index.html             ダミーのIndex
#          |
#          +-- oldlog [777]      /                         (過去ログ用のフォルダ)
#
# converter.cgiは、TBOARD 003 Version 0.** からのログのコンバート用です。
# 使用方法は、converter.cgiをご覧ください。
# 
<font color=#008000>セキュリティ向上対策のため、ログファイル及びログ格納のフォルダ名を変更してください。</font>
<font color=#008000>変更後、基本設定の変更も行います。</font>

# //// 基本設定 (ここから) ////////////////////////////////////////////////////////////////

# スクリプト名
$script = "tboard003.cgi";
# タイトル名
$title = "TBOARD 003";
# 戻り先 (例) ../index.html
<font color=#008000>戻り先を相対パスか絶対パスで指定します。Hi-Ho、Biglobe等は絶対パスで指定します。</font>
$backurl = "../";
# Symlinkによるファイルのロック (Yes:1,No:0) 1を推奨
<font color=#008000>Symlinkが使用できないサーバーで使用すると致命的なエラーとなりますのでそのような時には必ず0にしてください。</font>
$lockon = 0;
$lockfile = "lock.lok";
# ログファイル
$logfile = "tboard003.log";
# 最大記事件数 (親記事の件数)
<font color=#008000>多くしすぎるとサーバーに負荷がかかり、表示に時間がかかります。</font>
$maxkiji = 10;
# 管理者パスワード
<font color=#008000>必ずご自身で変更してください。</font>
$adpwd = "12345";
# レス記事がついたらその記事をTOPに持っていく (Yes:1,No:0)
$topok = 0;
# 過去ログ機能 (Yes:1,No:0)
<font color=#008000>1の場合、月ごとに過去ログを作成します。</font>
$oldlogok = 1;
# 過去ログディレクトリ
$oldbox = "oldlog/";
# Sendmail機能 (Yes:1,No:0)  掲示板に投稿があると$admailにメールを送信する
<font color=#008000>殆どのサーバーは、Sendmailが使用できません。できないときには必ず0に設定してください。</font>
$semailok = 0;
# Sendmailのパス
$sendmail = '/usr/sbin/sendmail';
# 管理者のE-mailアドレス
$admail = 'aaa@bbb.ccc';
# HTMLTAGの許可 (Yes:1,No:0) 0を推奨
<font color=#008000>タグを許可すると、ログが破損する場合があります。できる限り0でお願いします。</font>
$tagok = 0;

# HPの上部にロゴ等を埋め込めます(必要に応じてお使いください)
$head_title = &lt&ltHTML_END;
HTML_END

# //// 基本設定 (ここまで) ////////////////////////////////////////////////////////////////

# ----- 拡張設定 --------------------------------------------------------
# 投稿フォームをリンクにする (Yes:1,No:0)
<font color=#008000>1にすると、投稿フォームが上部にリンクされます。</font>
$tformok = 0;
# 何日以内の記事を新着とするか？(新着表示をしない時は0とする。)
<font color=#008000>新着の場合は記事の色彩設定が$color19〜$color25となります。</font>
$newdate = 2;
# レス時/編集削除時に関連記事を表示する (Yes:1,No:0)
$ndkiji = 1;
# 過去ログファイルのパーミッションを666に自動で設定 (Yes:1,No:0)
$chauto = 0;
# -----------------------------------------------------------------------
</pre>
</div>
<br>
<div align=center><font color=#db7093>TOSHISRUS</font><br>
URL：<a href="http://sk.redbit.ne.jp/~tboard/">http://sk.redbit.ne.jp/~tboard/</a><br>
E-mail：<a href="mailto:tboard@sk.redbit.ne.jp">tboard@sk.redbit.ne.jp</a><br></div>
</blockquote>
</body></html>
